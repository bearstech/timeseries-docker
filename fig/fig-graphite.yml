---

carbon:
    build: images/carbon
    hostname: carbon
    ports:
        - "2003"
    volumes:
        - "./data/carbon:/opt/graphite/storage"

graphite:
    build: images/graphite
    volumes_from:
        - carbon
    expose:
        - "8888"

grafana:
    build: images/grafana
    links:
        - graphite
        - grafanastore
    ports:
        - "8000:80"

grafanastore:
    build: images/grafanastore
    expose:
        - "5000"
    volumes:
        - "./data/dashboard:/opt/data"

statsite:
    build: images/statsite
    ports:
        - "8125/udp"
        - "8125"
    links:
        - carbon
